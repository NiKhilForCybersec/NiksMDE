<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intune Integration | MDE Ultimate Guide</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <header class="header">
        <div class="header-left">
            <button class="mobile-menu-btn" aria-label="Toggle menu">â˜°</button>
            <a href="index.html" class="logo">
                <div class="logo-icon">MDE</div>
                <div class="logo-text"><span>MDE</span> Ultimate Guide</div>
            </a>
        </div>
        <div class="search-container">
            <button class="search-btn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="M21 21l-4.35-4.35"></path>
                </svg>
                <span>Search documentation...</span>
                <span class="search-shortcut"><kbd>âŒ˜</kbd><kbd>K</kbd></span>
            </button>
        </div>
        <div class="header-right">
            <a href="12-2-interview-questions.html" class="header-link">Interview Prep</a>
            <a href="5-3-kql-fundamentals.html" class="header-link">KQL Guide</a>
        </div>
    </header>

    <div class="sidebar-overlay"></div>
    <aside class="sidebar"></aside>

    <main class="main-content">
        <div class="content-wrapper">
            <div class="overview-box">
                <h4>ğŸ¯ What This Page Covers</h4>
                <p>Complete guide to integrating Microsoft Defender for Endpoint with Microsoft Intune. Learn about onboarding, policy configuration, compliance, and security baselines.</p>
            </div>

            <h1>Intune Integration</h1>

            <p>Microsoft Intune provides the primary management plane for deploying and configuring MDE across your organization. This integration enables automated onboarding, policy management, and compliance enforcement.</p>

            <h2>Integration Architecture</h2>

            <div class="flow-diagram">
                <div class="diagram-title">Intune + MDE Integration</div>
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     INTUNE + MDE INTEGRATION                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   MICROSOFT     â”‚â—„â”€â”€â”€â”€ Service â”€â”€â”€â”€â–ºâ”‚   MICROSOFT     â”‚             â”‚
â”‚  â”‚     INTUNE      â”‚     Connection    â”‚   DEFENDER      â”‚             â”‚
â”‚  â”‚                 â”‚                    â”‚   FOR ENDPOINT  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚           â”‚                                      â”‚                       â”‚
â”‚           â”‚ Policies &                           â”‚ Risk                  â”‚
â”‚           â”‚ Configuration                        â”‚ Signals               â”‚
â”‚           â–¼                                      â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                     MANAGED DEVICES                          â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚       â”‚
â”‚  â”‚  â”‚Windows  â”‚  â”‚ macOS   â”‚  â”‚  iOS    â”‚  â”‚ Android â”‚         â”‚       â”‚
â”‚  â”‚  â”‚ 10/11   â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚         â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                          â”‚
â”‚  INTEGRATION CAPABILITIES:                                              â”‚
â”‚  â”œâ”€â”€ Automated MDE onboarding via enrollment                            â”‚
â”‚  â”œâ”€â”€ Security baseline deployment                                       â”‚
â”‚  â”œâ”€â”€ Antivirus policy management                                        â”‚
â”‚  â”œâ”€â”€ ASR rule configuration                                             â”‚
â”‚  â”œâ”€â”€ EDR policy settings                                                â”‚
â”‚  â”œâ”€â”€ Compliance policies based on risk                                  â”‚
â”‚  â”œâ”€â”€ Conditional Access integration                                     â”‚
â”‚  â””â”€â”€ Tamper Protection management                                       â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
            </div>

            <h2>Enabling the Connection</h2>

            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">Setup Steps</span>
                    <button class="code-copy">ğŸ“‹ Copy</button>
                </div>
                <div class="code-content">
<pre><code>STEP 1: ENABLE IN MDE PORTAL
Location: Settings â†’ Endpoints â†’ Advanced features
â”œâ”€â”€ Toggle ON: Microsoft Intune connection
â””â”€â”€ Save settings

STEP 2: ENABLE IN INTUNE
Location: Endpoint security â†’ Microsoft Defender for Endpoint
â”œâ”€â”€ Connection status: Should show "Available"
â”œâ”€â”€ Connect Windows devices: Toggle ON
â”œâ”€â”€ Connect Android devices: Toggle ON (if needed)
â”œâ”€â”€ Connect iOS devices: Toggle ON (if needed)
â”œâ”€â”€ Connect macOS devices: Toggle ON (if needed)
â””â”€â”€ Save

STEP 3: CONFIGURE COMPLIANCE
Location: Endpoint security â†’ Microsoft Defender for Endpoint
â”œâ”€â”€ Risk level required: Low / Medium / High / Clear
â”œâ”€â”€ Remediation grace period: 1-30 days
â””â”€â”€ App protection policy evaluation: Enable

VERIFICATION:
â”œâ”€â”€ Status shows "Enabled" in both portals
â”œâ”€â”€ Devices show compliance status
â””â”€â”€ Risk level flows between services</code></pre>
                </div>
            </div>

            <h2>Automated Onboarding</h2>

            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">Automatic Onboarding Configuration</span>
                    <button class="code-copy">ğŸ“‹ Copy</button>
                </div>
                <div class="code-content">
<pre><code>WINDOWS AUTOMATIC ONBOARDING:
Location: Endpoint security â†’ Endpoint detection and response

CREATE EDR POLICY:
1. Create policy â†’ Platform: Windows 10 and later
2. Profile: Endpoint detection and response
3. Settings:
   â”œâ”€â”€ Microsoft Defender for Endpoint client config package type:
   â”‚   â””â”€â”€ Auto from connector (recommended)
   â”œâ”€â”€ Sample sharing: All
   â””â”€â”€ Expedite telemetry reporting: Yes
4. Assign to: All devices or specific groups
5. Create

RESULT:
â”œâ”€â”€ New Intune-enrolled devices auto-onboard to MDE
â”œâ”€â”€ Onboarding happens during enrollment
â”œâ”€â”€ No manual package deployment needed
â””â”€â”€ Consistent configuration across devices

MACOS AUTOMATIC ONBOARDING:
1. Create policy â†’ Platform: macOS
2. Profile: Endpoint detection and response
3. Settings similar to Windows
4. Assign to macOS device groups

MOBILE DEVICES:
â”œâ”€â”€ iOS: Requires Defender app from App Store
â”œâ”€â”€ Android: Requires Defender app from Play Store
â”œâ”€â”€ Deploy apps via Intune app deployment
â””â”€â”€ Enable web protection features</code></pre>
                </div>
            </div>

            <h2>Security Baselines</h2>

            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">MDE Security Baseline</span>
                    <button class="code-copy">ğŸ“‹ Copy</button>
                </div>
                <div class="code-content">
<pre><code>SECURITY BASELINE:
Location: Endpoint security â†’ Security baselines â†’ 
         Microsoft Defender for Endpoint baseline

BASELINE CATEGORIES:
â”œâ”€â”€ Microsoft Defender Antivirus
â”‚   â”œâ”€â”€ Cloud-delivered protection: Enabled
â”‚   â”œâ”€â”€ Real-time protection: Enabled
â”‚   â”œâ”€â”€ Behavior monitoring: Enabled
â”‚   â”œâ”€â”€ Scan all downloaded files: Enabled
â”‚   â”œâ”€â”€ PUA protection: Enabled
â”‚   â””â”€â”€ Cloud block level: High
â”‚
â”œâ”€â”€ Microsoft Defender Exploit Guard
â”‚   â”œâ”€â”€ Attack Surface Reduction rules
â”‚   â”œâ”€â”€ Network Protection: Enabled
â”‚   â”œâ”€â”€ Controlled Folder Access: Enabled
â”‚   â””â”€â”€ Exploit Protection settings
â”‚
â”œâ”€â”€ Microsoft Defender SmartScreen
â”‚   â”œâ”€â”€ SmartScreen for apps: Warn
â”‚   â”œâ”€â”€ SmartScreen for Edge: Enabled
â”‚   â””â”€â”€ Block potentially unwanted apps: Block
â”‚
â””â”€â”€ Microsoft Defender Firewall
    â”œâ”€â”€ Enable firewall: Yes
    â”œâ”€â”€ Block inbound connections: Yes (default profile)
    â””â”€â”€ Logging settings

DEPLOYING BASELINE:
1. Create profile from baseline
2. Review and customize settings if needed
3. Assign to device groups
4. Monitor compliance
5. Review conflicts with other policies</code></pre>
                </div>
            </div>

            <h2>Antivirus Policies</h2>

            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">Antivirus Configuration</span>
                    <button class="code-copy">ğŸ“‹ Copy</button>
                </div>
                <div class="code-content">
<pre><code>ANTIVIRUS POLICY:
Location: Endpoint security â†’ Antivirus â†’ Create policy

MICROSOFT DEFENDER ANTIVIRUS SETTINGS:
â”œâ”€â”€ Cloud protection
â”‚   â”œâ”€â”€ Turn on cloud-delivered protection: Yes
â”‚   â”œâ”€â”€ Cloud-delivered protection level: High
â”‚   â”œâ”€â”€ Defender cloud extended timeout: 50 seconds
â”‚   â””â”€â”€ Submit samples consent: Send safe samples automatically
â”‚
â”œâ”€â”€ Real-time protection
â”‚   â”œâ”€â”€ Turn on real-time protection: Yes
â”‚   â”œâ”€â”€ Turn on behavior monitoring: Yes
â”‚   â”œâ”€â”€ Scan all downloaded files: Yes
â”‚   â”œâ”€â”€ Scan scripts loaded in browsers: Yes
â”‚   â””â”€â”€ Turn on network protection: Enabled
â”‚
â”œâ”€â”€ Scan settings
â”‚   â”œâ”€â”€ Scan type: Quick scan
â”‚   â”œâ”€â”€ Day of week for scheduled scan: Sunday
â”‚   â”œâ”€â”€ Time of day for scheduled scan: 2:00 AM
â”‚   â”œâ”€â”€ Check for signature updates before scan: Yes
â”‚   â””â”€â”€ Scan removable drives: Yes
â”‚
â”œâ”€â”€ Exclusions (use sparingly)
â”‚   â”œâ”€â”€ Exclude paths
â”‚   â”œâ”€â”€ Exclude extensions
â”‚   â””â”€â”€ Exclude processes
â”‚
â””â”€â”€ Remediation
    â”œâ”€â”€ Action for severe threats: Remove
    â”œâ”€â”€ Action for high threats: Remove
    â”œâ”€â”€ Action for moderate threats: Quarantine
    â””â”€â”€ Action for low threats: Quarantine</code></pre>
                </div>
            </div>

            <h2>Attack Surface Reduction</h2>

            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">ASR via Intune</span>
                    <button class="code-copy">ğŸ“‹ Copy</button>
                </div>
                <div class="code-content">
<pre><code>ASR POLICY:
Location: Endpoint security â†’ Attack surface reduction â†’ Create policy

ASR RULES CONFIGURATION:
Platform: Windows 10 and later
Profile: Attack Surface Reduction Rules

RECOMMENDED RULES (Block mode):
â”œâ”€â”€ Block Office apps from creating child processes
â”œâ”€â”€ Block Office apps from creating executable content
â”œâ”€â”€ Block Office apps from injecting code into other processes
â”œâ”€â”€ Block JavaScript or VBScript from launching downloaded content
â”œâ”€â”€ Block execution of potentially obfuscated scripts
â”œâ”€â”€ Block Win32 API calls from Office macros
â”œâ”€â”€ Block executable content from email client
â”œâ”€â”€ Block credential stealing from LSASS
â”œâ”€â”€ Block untrusted and unsigned processes from USB
â”œâ”€â”€ Block process creations from PSExec and WMI
â”œâ”€â”€ Block persistence through WMI event subscription
â””â”€â”€ Block abuse of exploited vulnerable signed drivers

ADDITIONAL PROTECTIONS:
â”œâ”€â”€ Controlled folder access: Enabled
â”œâ”€â”€ Network protection: Enabled
â””â”€â”€ Exploit protection: Configure via XML

DEPLOYMENT STRATEGY:
1. Start in Audit mode for all rules
2. Monitor for 2-4 weeks
3. Create exclusions for legitimate blocks
4. Enable Block mode for validated rules
5. Document exceptions with justification</code></pre>
                </div>
            </div>

            <h2>Compliance Policies</h2>

            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">Risk-Based Compliance</span>
                    <button class="code-copy">ğŸ“‹ Copy</button>
                </div>
                <div class="code-content">
<pre><code>COMPLIANCE POLICY WITH MDE RISK:
Location: Devices â†’ Compliance policies â†’ Create policy

PLATFORM: Windows 10 and later

MICROSOFT DEFENDER FOR ENDPOINT SECTION:
â”œâ”€â”€ Require device to be at or under machine risk score
â”‚   â”œâ”€â”€ Clear: No known risk
â”‚   â”œâ”€â”€ Low: Minimal risk
â”‚   â”œâ”€â”€ Medium: Moderate risk (recommended max)
â”‚   â””â”€â”€ High: Significant risk
â””â”€â”€ Action for noncompliance:
    â”œâ”€â”€ Mark device noncompliant: Immediately or after X days
    â”œâ”€â”€ Send email to user
    â”œâ”€â”€ Remotely lock device
    â””â”€â”€ Retire device (extreme cases)

CONDITIONAL ACCESS INTEGRATION:
1. Create Conditional Access policy in Azure AD
2. Target: All users or specific groups
3. Cloud apps: Office 365, SharePoint, etc.
4. Conditions: Require device to be compliant
5. Grant: Require device to be marked as compliant
6. Enable policy

RESULT:
â”œâ”€â”€ High-risk devices blocked from corporate resources
â”œâ”€â”€ Users prompted to remediate issues
â”œâ”€â”€ Automatic access restoration after remediation
â””â”€â”€ Real-time risk assessment</code></pre>
                </div>
            </div>

            <h2>Tamper Protection</h2>

            <div class="code-block">
                <div class="code-header">
                    <span class="code-lang">Tamper Protection via Intune</span>
                    <button class="code-copy">ğŸ“‹ Copy</button>
                </div>
                <div class="code-content">
<pre><code>TAMPER PROTECTION:
â”œâ”€â”€ Prevents malware from disabling Defender
â”œâ”€â”€ Blocks changes to security settings
â”œâ”€â”€ Requires Intune management for full control

ENABLE VIA INTUNE:
Location: Endpoint security â†’ Antivirus â†’ Create policy
Platform: Windows 10 and later
Profile: Windows Security experience

SETTINGS:
â”œâ”€â”€ Tamper Protection: On (recommended)
â”œâ”€â”€ Prevents:
â”‚   â”œâ”€â”€ Disabling real-time protection
â”‚   â”œâ”€â”€ Disabling cloud-delivered protection
â”‚   â”œâ”€â”€ Disabling behavior monitoring
â”‚   â”œâ”€â”€ Disabling script scanning
â”‚   â”œâ”€â”€ Removing security updates
â”‚   â””â”€â”€ Changing exclusions via registry/PowerShell
â””â”€â”€ Legitimate admins can still manage via Intune

VERIFICATION:
Get-MpComputerStatus | Select-Object IsTamperProtected
# Should return: True

NOTE: Without Intune, Tamper Protection can be enabled
in MDE portal but local admin can potentially disable</code></pre>
                </div>
            </div>

            <div class="callout tip">
                <div class="callout-icon">ğŸ’¡</div>
                <div class="callout-content">
                    <h5>Best Practices</h5>
                    <ul>
                        <li><strong>Use security baselines</strong>: Start with Microsoft's baseline, customize as needed</li>
                        <li><strong>Enable auto-onboarding</strong>: Reduces manual work, ensures consistency</li>
                        <li><strong>Layer policies carefully</strong>: Avoid conflicts between baselines and custom policies</li>
                        <li><strong>Test in pilot groups</strong>: Deploy to test devices before organization-wide rollout</li>
                        <li><strong>Monitor compliance</strong>: Review compliance reports regularly</li>
                    </ul>
                </div>
            </div>

            <!-- Interview Tips -->
            <div class="interview-tips">
                <h3>ğŸ’¡ Key Interview Points</h3>
                <ul>
                    <li><strong>Connection</strong>: Enable in both MDE and Intune portals</li>
                    <li><strong>Auto-onboarding</strong>: EDR policy with "Auto from connector" for enrollment-based onboarding</li>
                    <li><strong>Security baselines</strong>: Pre-configured Microsoft best practices</li>
                    <li><strong>Compliance + CA</strong>: Block high-risk devices from corporate resources</li>
                    <li><strong>Tamper Protection</strong>: Intune management enables full control</li>
                </ul>
            </div>

            <nav class="page-nav">
                <a href="8-2-sentinel-integration.html" class="page-nav-link prev">
                    <span class="page-nav-label">â† Previous</span>
                    <span class="page-nav-title">Sentinel Integration</span>
                </a>
                <a href="8-4-cloud-apps-integration.html" class="page-nav-link next">
                    <span class="page-nav-label">Next â†’</span>
                    <span class="page-nav-title">Defender for Cloud Apps</span>
                </a>
            </nav>
        </div>
    </main>

    <div class="search-modal">
        <div class="search-modal-content">
            <div class="search-modal-input-wrapper">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="M21 21l-4.35-4.35"></path>
                </svg>
                <input type="text" class="search-modal-input" placeholder="Search pages..." autofocus>
                <button class="search-modal-close">ESC</button>
            </div>
            <div class="search-results"></div>
        </div>
    </div>
    <script src="main.js"></script>
</body>
</html>
